# Multitreatment uplift modeling prediction
# Based on single treatment uplift modeling by Floris Devriendt

predict_mtum <- function(approach,df_test,outcome,features,outcome_positive,outcome_negative){
  
  if(approach == "sma"){
  
    # Factorize outcome variable
    df_test[,outcome] <- factor(df_test[,outcome)
    levels(df_test[,outcome]) <- c(outcome_negative, outcome_positive)
    # Scores control
    pred_control <- extractProb(list(model_control), testX = df_test[,features],testY = df_test[,outcome])
    pred_control <- pred_control[pred_control$dataType == "Test",]
    # Scores treatment 1
    pred_t1 <- extractProb(list(model_t1), testX = df_test[,features],testY = df_test[,outcome])
    pred_t1 <- pred_t1[pred_t1$dataType == "Test",]
    # Scores treatment 2
    pred_t2 <- extractProb(list(model_t2), testX = df_test[,features],testY = df_test[,outcome])
    pred_t2 <- pred_t2[pred_t2$dataType == "Test",]
    # Df predictions
    predictions = data.frame(treatment_1 =numeric(nrow(pred_t1)),
                             treatment_2 =numeric(nrow(pred_t2)),
                             control=numeric(nrow(pred_control)))
    predictions$treatment_1 <- pred_t1[,outcome_positive]
    predictions$treatment_2 <- pred_t2[,outcome_positive]
    predictions$control <- pred_control[,outcome_positive]
    
  } else if (approach == "DIA"){

  
